<template>
  <q-drawer v-model="leftDrawerOpen" show-if-above bordered class="side-bar">
    <p class="saaS-kit">Saas-Kit</p>

    <div class="flex row" style="margin-left: 14px">
      <q-avatar>
        <img
          :src="userDetail.image"
          :alt="userDetail.name"
          width="100%"
          height="100%"
        />
      </q-avatar>
      <div>
        <p class="sierra-ferguson">{{ userDetail.name }}</p>
        <p class="sfergusongmailcom">{{ userDetail.email }}</p>
      </div>
    </div>
    <q-list bordered>
      <div
        v-for="navigation in navPoints"
        :key="navigation.name"
        style="margin-left: 14px"
      >
        <q-item
          clickable
          v-if="!navigation.subMenu"
          v-ripple
          @click="navigate(navigation.nav)"
        >
          <q-item-section avatar>
            <q-icon :color="navigation.navColor" :name="navigation.icon" />
          </q-item-section>
          <q-item-section>{{ navigation.name }}</q-item-section>
        </q-item>

        <q-expansion-item
          v-else
          :icon="navigation.icon"
          :label="navigation.name"
        >
          <q-item-section v-for="item in navigation.subMenu" :key="item.name">
            <p class="flex justify-center">
              <span class="circle-marker" :class="item.iconClass"></span
              ><span>{{ item.name }}</span>
            </p>
          </q-item-section>
        </q-expansion-item>
      </div>
    </q-list>
    <div @click="drawStatus()" class="toggle-btn">
      <span class="subtract"></span>
      <span class="toggle-sidebar"> Toggle sidebar</span>
    </div>
  </q-drawer>
</template>

<script>
export default {
  name: "TheSideBar",
  data() {
    return {
      leftDrawerOpen: false,
      miniMode: false,
      userDetail: {
        name: "Sierra Ferguson",
        email: "s.ferguson@gmail.com",
        image: "https://cdn.quasar.dev/img/avatar.png"
      },
      navPoints: [
        {
          name: "Home",
          icon: "window",
          nav: "/",
          navColor: "secondary"
        },
        {
          name: "Tasks",
          icon: "view_agenda",
          nav: "tasks",
          navColor: "#c2cfe0",
          subMenu: [
            {
              name: "Active",
              iconClass: "active"
            },
            {
              name: "Completed",
              iconClass: "completed"
            },
            {
              name: "Ended",
              iconClass: "ended"
            }
          ]
        },
        {
          name: "Email",
          icon: "mail",
          nav: "email",
          navColor: "#c2cfe0",
          subMenu: [
            {
              name: "Drafts",
              iconClass: "active"
            },
            {
              name: "Scheduled",
              iconClass: "scheduled"
            },
            {
              name: "Sent",
              iconClass: "completed"
            },
            {
              name: "Archived",
              iconClass: "ended"
            }
          ]
        },
        {
          name: "Contacts",
          icon: "perm_identity",
          nav: "contacts",
          navColor: "#c2cfe0"
        },
        {
          name: "Chats",
          icon: "chat_bubble_outline",
          nav: "chats",
          navColor: "#c2cfe0"
        },
        {
          name: "Deals",
          icon: "bluetooth",
          nav: "deals",
          navColor: "#c2cfe0"
        },
        {
          name: "Settings",
          icon: "more_horiz",
          nav: "deals",
          navColor: "#c2cfe0"
        }
      ]
    };
  },
  methods: {
    drawStatus() {
      this.leftDrawerOpen = !this.leftDrawerOpen;
    },
    navigate(navPath) {
      console.log(navPath);
      // go to specified route
      this.$router.push(navPath);
    }
  }
};
</script>

<style scoped>
.side-bar {
  /*margin: 60px 0 60px 60px;*/
  /*padding: 17px 0 22px;*/
  box-shadow: 6px 0 18px 0 rgba(0, 0, 0, 0.06);
  height: 100%;
}
.toggle-sidebar {
  width: 146px;
  height: 17px;
  margin: 0 0 0 14px;
  /*font-family: Poppins;*/
  font-size: 11px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: 0.11px;
  text-align: left;
  color: #90a0b7;
}
.subtract {
  width: 14px;
  height: 14px;
  margin: 1px 14px 2px 0;
  padding: 2px 8px 2px 4px;
  background-color: #c2cfe0;
}
.toggle-btn {
  cursor: pointer;
  margin-bottom: -60%;
  /*bottom: 3%;*/
}
.saaS-kit {
  width: 69px;
  height: 26px;
  margin: 0 163px 42px 24px;
  /*font-family: OpenSans;*/
  font-size: 18px;
  font-weight: 600;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  color: #109cf1;
}

.sierra-ferguson {
  width: 146px;
  height: 21px;
  margin: 3px 0 2px 16px;
  /*font-family: Poppins;*/
  font-size: 14px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  color: #192a3e;
}
.sfergusongmailcom {
  width: 146px;
  height: 17px;
  margin: 2px 0 3px 16px;
  /*font-family: Poppins;*/
  font-size: 11px;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: 0.11px;
  text-align: left;
  color: #90a0b7;
}

.circle-marker {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-grow: 0;
  margin: 6px 8px 6px 0;
}

.sub-menu {
  width: 176px;
  height: 20px;
  flex-grow: 0;
  /* margin: 0 0 8px 0px; */
  margin-left: 20%;
}
.active {
  border: solid 2px #ffb946;
}
.completed {
  border: solid 2px #2ed47a;
}
.ended {
  border: solid 2px #f7685b;
}
.scheduled {
  border: solid 2px #885af8;
}
</style>
